
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="ü¶úü™∫ Parakeet is a GoLang library, made to simplify the development of small generative AI applications with Ollama ü¶ô.">
      
      
        <meta name="author" content="Philippe Charri√®re (@k33g)">
      
      
        <link rel="canonical" href="https://parakeet-nest.github.io/parakeet/squawk-doc/">
      
      
        <link rel="prev" href="../squawk-tutorial/">
      
      
        <link rel="next" href="../parakeet-examples/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>üìù Documentation - Parakeet</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#squawk-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Parakeet" class="md-header__button md-logo" aria-label="Parakeet" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Parakeet
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              üìù Documentation
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/parakeet-nest/parakeet" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    parakeet-nest/parakeet
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Parakeet" class="md-nav__button md-logo" aria-label="Parakeet" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Parakeet
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/parakeet-nest/parakeet" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    parakeet-nest/parakeet
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üè† Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../what-is-new/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìù What's new
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../generate-completion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ü§ñ Generate completion
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chat-completion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üí¨ Chat completion
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../set-options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üßæ How to set the Options
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../embeddings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üîñ Embeddings
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ‚úÇ Chunking
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            ‚úÇ Chunking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chunkers-and-splitters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chunkers & Splitters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contextual-retrieval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìùüîé Contextual Retrieval
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parsing-markdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parsing Markdown
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parsing-source-code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parsing Source Code
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../content-helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Content Helpers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ‚öíÔ∏è Function Calling with Tools
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../structured-outputs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üßæ Structured outputs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üß≠ MCP Client
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker-model-runner-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üê≥ Docker Model Runner support
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../openaiapi-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üåÄ OpenAI API support
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../wasm-plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üü™ WASM Plugins
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../protected-endpoint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üîê Protected endpoint
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" checked>
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ü¶ú Squawk (Parakeet DSL)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            ü¶ú Squawk (Parakeet DSL)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../squawk-getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üöÄ Getting started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../squawk-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üéâ Tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    üìù Documentation
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    üìù Documentation
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Core Concepts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#squawk-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Squawk Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-new-squawk-instance" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a New Squawk Instance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-chaining" class="md-nav__link">
    <span class="md-ellipsis">
      Method Chaining
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    <span class="md-ellipsis">
      Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embeddingsmodel" class="md-nav__link">
    <span class="md-ellipsis">
      EmbeddingsModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseurl" class="md-nav__link">
    <span class="md-ellipsis">
      BaseURL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provider" class="md-nav__link">
    <span class="md-ellipsis">
      Provider
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      Options
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-management" class="md-nav__link">
    <span class="md-ellipsis">
      Message Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Message Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system" class="md-nav__link">
    <span class="md-ellipsis">
      System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user" class="md-nav__link">
    <span class="md-ellipsis">
      User
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assistant" class="md-nav__link">
    <span class="md-ellipsis">
      Assistant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addsetofmessages" class="md-nav__link">
    <span class="md-ellipsis">
      AddSetOfMessages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messages" class="md-nav__link">
    <span class="md-ellipsis">
      Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saveassistantanswer" class="md-nav__link">
    <span class="md-ellipsis">
      SaveAssistantAnswer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lastanswer" class="md-nav__link">
    <span class="md-ellipsis">
      LastAnswer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removemessagebylabel" class="md-nav__link">
    <span class="md-ellipsis">
      RemoveMessageByLabel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chat-completions" class="md-nav__link">
    <span class="md-ellipsis">
      Chat Completions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chat Completions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chat" class="md-nav__link">
    <span class="md-ellipsis">
      Chat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#streaming-responses" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming Responses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Streaming Responses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chatstream" class="md-nav__link">
    <span class="md-ellipsis">
      ChatStream
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structured-output" class="md-nav__link">
    <span class="md-ellipsis">
      Structured Output
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Structured Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schema" class="md-nav__link">
    <span class="md-ellipsis">
      Schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structuredoutput" class="md-nav__link">
    <span class="md-ellipsis">
      StructuredOutput
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#embeddings-and-rag" class="md-nav__link">
    <span class="md-ellipsis">
      Embeddings and RAG
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Embeddings and RAG">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#store" class="md-nav__link">
    <span class="md-ellipsis">
      Store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generateembeddings" class="md-nav__link">
    <span class="md-ellipsis">
      GenerateEmbeddings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#similaritysearch" class="md-nav__link">
    <span class="md-ellipsis">
      SimilaritySearch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#similaritysearchfromusermessage" class="md-nav__link">
    <span class="md-ellipsis">
      SimilaritySearchFromUserMessage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addsimilaritiestomessages" class="md-nav__link">
    <span class="md-ellipsis">
      AddSimilaritiesToMessages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addsimilaritiestomessageswithprefix" class="md-nav__link">
    <span class="md-ellipsis">
      AddSimilaritiesToMessagesWithPrefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#similarities" class="md-nav__link">
    <span class="md-ellipsis">
      Similarities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contextfromsimilarities" class="md-nav__link">
    <span class="md-ellipsis">
      ContextFromSimilarities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-calling-with-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Function Calling with Tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Function Calling with Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tools" class="md-nav__link">
    <span class="md-ellipsis">
      Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functioncalling" class="md-nav__link">
    <span class="md-ellipsis">
      FunctionCalling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toolcalls" class="md-nav__link">
    <span class="md-ellipsis">
      ToolCalls
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meta-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      Meta Prompts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Meta Prompts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forkids" class="md-nav__link">
    <span class="md-ellipsis">
      ForKids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brief" class="md-nav__link">
    <span class="md-ellipsis">
      Brief
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asapoem" class="md-nav__link">
    <span class="md-ellipsis">
      AsAPoem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advantagesonly" class="md-nav__link">
    <span class="md-ellipsis">
      AdvantagesOnly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asarecipe" class="md-nav__link">
    <span class="md-ellipsis">
      AsARecipe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeline" class="md-nav__link">
    <span class="md-ellipsis">
      Timeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opinion" class="md-nav__link">
    <span class="md-ellipsis">
      Opinion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#factual" class="md-nav__link">
    <span class="md-ellipsis">
      Factual
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stepbystep" class="md-nav__link">
    <span class="md-ellipsis">
      StepByStep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prosandcons" class="md-nav__link">
    <span class="md-ellipsis">
      ProsAndCons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asastory" class="md-nav__link">
    <span class="md-ellipsis">
      AsAStory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inlaymansterms" class="md-nav__link">
    <span class="md-ellipsis">
      InLaymansTerms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summarize" class="md-nav__link">
    <span class="md-ellipsis">
      Summarize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summarizelastanswer" class="md-nav__link">
    <span class="md-ellipsis">
      SummarizeLastAnswer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lasterror" class="md-nav__link">
    <span class="md-ellipsis">
      LastError
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous" class="md-nav__link">
    <span class="md-ellipsis">
      Miscellaneous
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cmd" class="md-nav__link">
    <span class="md-ellipsis">
      Cmd
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Complete Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-chat-example" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Chat Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streaming-chat-example" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming Chat Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rag-example" class="md-nav__link">
    <span class="md-ellipsis">
      RAG Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structured-output-example" class="md-nav__link">
    <span class="md-ellipsis">
      Structured Output Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-calling-example" class="md-nav__link">
    <span class="md-ellipsis">
      Function Calling Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meta-prompts-example" class="md-nav__link">
    <span class="md-ellipsis">
      Meta Prompts Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../parakeet-examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üß™ Parakeet Examples & Recipes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_17" >
        
          
          <label class="md-nav__link" for="__nav_17" id="__nav_17_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ‚öôÔ∏è Various helpers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_17">
            <span class="md-nav__icon md-icon"></span>
            ‚öôÔ∏è Various helpers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools-box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üß∞ Tools box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../llms-helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üõ†Ô∏è LLMs & Parakeet Helpers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prompt-helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üî® Prompt Helpers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../verbose-mode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üó£Ô∏è Verbose mode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui-helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üì∫ UI (Input/Print) Helpers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli-helpers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üì∫ CLI Helpers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_18" >
        
          
          <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üî¨ Experimental
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18">
            <span class="md-nav__icon md-icon"></span>
            üî¨ Experimental
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flock-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üëÆ‚Äç‚ôÇÔ∏è Flock agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üò° Error Handling
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_19" >
        
          
          <label class="md-nav__link" for="__nav_19" id="__nav_19_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üì∞ Various contents
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_19">
            <span class="md-nav__icon md-icon"></span>
            üì∞ Various contents
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parakeet-blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üìù Parakeet Blog Posts
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20" >
        
          
          <label class="md-nav__link" for="__nav_20" id="__nav_20_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    üìö Old content
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_20">
            <span class="md-nav__icon md-icon"></span>
            üìö Old content
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../function-calling-before-tools-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Function Calling (before tools support)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../function-calling-without-tools-support/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Function Calling (without tools support)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parakeet-demos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    üöÄ Parakeet Demos
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      Core Concepts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#squawk-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Squawk Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-new-squawk-instance" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a New Squawk Instance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-chaining" class="md-nav__link">
    <span class="md-ellipsis">
      Method Chaining
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Basic Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#model" class="md-nav__link">
    <span class="md-ellipsis">
      Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#embeddingsmodel" class="md-nav__link">
    <span class="md-ellipsis">
      EmbeddingsModel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseurl" class="md-nav__link">
    <span class="md-ellipsis">
      BaseURL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provider" class="md-nav__link">
    <span class="md-ellipsis">
      Provider
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    <span class="md-ellipsis">
      Options
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-management" class="md-nav__link">
    <span class="md-ellipsis">
      Message Management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Message Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system" class="md-nav__link">
    <span class="md-ellipsis">
      System
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user" class="md-nav__link">
    <span class="md-ellipsis">
      User
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assistant" class="md-nav__link">
    <span class="md-ellipsis">
      Assistant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addsetofmessages" class="md-nav__link">
    <span class="md-ellipsis">
      AddSetOfMessages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#messages" class="md-nav__link">
    <span class="md-ellipsis">
      Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saveassistantanswer" class="md-nav__link">
    <span class="md-ellipsis">
      SaveAssistantAnswer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lastanswer" class="md-nav__link">
    <span class="md-ellipsis">
      LastAnswer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removemessagebylabel" class="md-nav__link">
    <span class="md-ellipsis">
      RemoveMessageByLabel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#chat-completions" class="md-nav__link">
    <span class="md-ellipsis">
      Chat Completions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Chat Completions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chat" class="md-nav__link">
    <span class="md-ellipsis">
      Chat
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#streaming-responses" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming Responses
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Streaming Responses">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chatstream" class="md-nav__link">
    <span class="md-ellipsis">
      ChatStream
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structured-output" class="md-nav__link">
    <span class="md-ellipsis">
      Structured Output
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Structured Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schema" class="md-nav__link">
    <span class="md-ellipsis">
      Schema
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structuredoutput" class="md-nav__link">
    <span class="md-ellipsis">
      StructuredOutput
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#embeddings-and-rag" class="md-nav__link">
    <span class="md-ellipsis">
      Embeddings and RAG
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Embeddings and RAG">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#store" class="md-nav__link">
    <span class="md-ellipsis">
      Store
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generateembeddings" class="md-nav__link">
    <span class="md-ellipsis">
      GenerateEmbeddings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#similaritysearch" class="md-nav__link">
    <span class="md-ellipsis">
      SimilaritySearch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#similaritysearchfromusermessage" class="md-nav__link">
    <span class="md-ellipsis">
      SimilaritySearchFromUserMessage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addsimilaritiestomessages" class="md-nav__link">
    <span class="md-ellipsis">
      AddSimilaritiesToMessages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addsimilaritiestomessageswithprefix" class="md-nav__link">
    <span class="md-ellipsis">
      AddSimilaritiesToMessagesWithPrefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#similarities" class="md-nav__link">
    <span class="md-ellipsis">
      Similarities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contextfromsimilarities" class="md-nav__link">
    <span class="md-ellipsis">
      ContextFromSimilarities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-calling-with-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Function Calling with Tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Function Calling with Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tools" class="md-nav__link">
    <span class="md-ellipsis">
      Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functioncalling" class="md-nav__link">
    <span class="md-ellipsis">
      FunctionCalling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toolcalls" class="md-nav__link">
    <span class="md-ellipsis">
      ToolCalls
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meta-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      Meta Prompts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Meta Prompts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forkids" class="md-nav__link">
    <span class="md-ellipsis">
      ForKids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brief" class="md-nav__link">
    <span class="md-ellipsis">
      Brief
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asapoem" class="md-nav__link">
    <span class="md-ellipsis">
      AsAPoem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advantagesonly" class="md-nav__link">
    <span class="md-ellipsis">
      AdvantagesOnly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asarecipe" class="md-nav__link">
    <span class="md-ellipsis">
      AsARecipe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeline" class="md-nav__link">
    <span class="md-ellipsis">
      Timeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opinion" class="md-nav__link">
    <span class="md-ellipsis">
      Opinion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#factual" class="md-nav__link">
    <span class="md-ellipsis">
      Factual
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stepbystep" class="md-nav__link">
    <span class="md-ellipsis">
      StepByStep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prosandcons" class="md-nav__link">
    <span class="md-ellipsis">
      ProsAndCons
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asastory" class="md-nav__link">
    <span class="md-ellipsis">
      AsAStory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inlaymansterms" class="md-nav__link">
    <span class="md-ellipsis">
      InLaymansTerms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summarize" class="md-nav__link">
    <span class="md-ellipsis">
      Summarize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summarizelastanswer" class="md-nav__link">
    <span class="md-ellipsis">
      SummarizeLastAnswer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lasterror" class="md-nav__link">
    <span class="md-ellipsis">
      LastError
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous" class="md-nav__link">
    <span class="md-ellipsis">
      Miscellaneous
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cmd" class="md-nav__link">
    <span class="md-ellipsis">
      Cmd
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Complete Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-chat-example" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Chat Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#streaming-chat-example" class="md-nav__link">
    <span class="md-ellipsis">
      Streaming Chat Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rag-example" class="md-nav__link">
    <span class="md-ellipsis">
      RAG Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structured-output-example" class="md-nav__link">
    <span class="md-ellipsis">
      Structured Output Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-calling-example" class="md-nav__link">
    <span class="md-ellipsis">
      Function Calling Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meta-prompts-example" class="md-nav__link">
    <span class="md-ellipsis">
      Meta Prompts Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="squawk-documentation">Squawk Documentation</h1>
<div class="admonition note">
<p class="admonition-title">üöß work in progress</p>
</div>
<blockquote>
<p>"Squawk is the jQuery of generative AI"</p>
</blockquote>
<p>Squawk simplifies common tasks with generative AI, making the technology more accessible and easier to work with.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#core-concepts">Core Concepts</a></li>
<li><a href="#basic-methods">Basic Methods</a></li>
<li><a href="#message-management">Message Management</a></li>
<li><a href="#chat-completions">Chat Completions</a></li>
<li><a href="#streaming-responses">Streaming Responses</a></li>
<li><a href="#structured-output">Structured Output</a></li>
<li><a href="#embeddings-and-rag">Embeddings and RAG</a></li>
<li><a href="#function-calling-with-tools">Function Calling with Tools</a></li>
<li><a href="#meta-prompts">Meta Prompts</a></li>
<li><a href="#complete-examples">Complete Examples</a></li>
</ul>
<h2 id="overview">Overview</h2>
<p>Squawk provides a simplified interface for interacting with generative AI models and embeddings. It encapsulates various configurations, states, and tools required for processing and generating responses from language models. It supports functionalities such as setting models, managing conversation contexts, handling embeddings, and executing structured or streaming outputs.</p>
<p>Key features:
- Simplified interaction with language models and embeddings
- Support for multiple providers (OpenAI, Ollama, Docker Model Runner)
- Flexible configuration options for chat and structured outputs
- Tools for managing conversation contexts and embeddings
- Callback-based execution for chat and streaming responses</p>
<h2 id="installation">Installation</h2>
<p>To use Squawk in your Go project:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="k">go</span><span class="w"> </span><span class="nx">get</span><span class="w"> </span><span class="nx">github</span><span class="p">.</span><span class="nx">com</span><span class="o">/</span><span class="nx">parakeet</span><span class="o">-</span><span class="nx">nest</span><span class="o">/</span><span class="nx">parakeet</span><span class="o">/</span><span class="nx">squawk</span>
</code></pre></div></td></tr></table></div>
<h2 id="core-concepts">Core Concepts</h2>
<h3 id="squawk-structure">Squawk Structure</h3>
<p>The Squawk struct contains all the configurations, states, and tools required for interacting with language models:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Squawk</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="nx">setOfMessages</span><span class="w">   </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Message</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="nx">baseUrl</span><span class="w">         </span><span class="kt">string</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">    </span><span class="nx">apiUrl</span><span class="w">          </span><span class="kt">string</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">    </span><span class="nx">provider</span><span class="w">        </span><span class="kt">string</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">    </span><span class="nx">chatModel</span><span class="w">       </span><span class="kt">string</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="nx">embeddingsModel</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="nx">options</span><span class="w">         </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Options</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">    </span><span class="nx">openAPIKey</span><span class="w">      </span><span class="kt">string</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">    </span><span class="nx">lastAnswer</span><span class="w">      </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">    </span><span class="nx">lastError</span><span class="w">       </span><span class="kt">error</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">    </span><span class="nx">schema</span><span class="w">          </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="w">    </span><span class="c1">// embeddings</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="w">    </span><span class="nx">vectorStore</span><span class="w">  </span><span class="nx">embeddings</span><span class="p">.</span><span class="nx">VectorStore</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="w">    </span><span class="nx">similarities</span><span class="w"> </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">VectorRecord</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="w">    </span><span class="c1">// tools</span>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="w">    </span><span class="nx">tools</span><span class="w">     </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Tool</span>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="w">    </span><span class="nx">toolCalls</span><span class="w"> </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">ToolCall</span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="creating-a-new-squawk-instance">Creating a New Squawk Instance</h3>
<p>Start by creating a new Squawk instance:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="nx">sq</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<h3 id="method-chaining">Method Chaining</h3>
<p>Squawk follows the method chaining pattern, allowing for a fluent interface:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span>
<span class="normal"><a href="#__codelineno-3-6">6</a></span>
<span class="normal"><a href="#__codelineno-3-7">7</a></span>
<span class="normal"><a href="#__codelineno-3-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">    </span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;You are a Go expert&quot;</span><span class="p">).</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Explain channels in Go&quot;</span><span class="p">).</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="nx">Chat</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
<h2 id="basic-methods">Basic Methods</h2>
<h3 id="model">Model</h3>
<p>Sets the chat model identifier for the Squawk instance.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Model</span><span class="p">(</span><span class="nx">model</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="embeddingsmodel">EmbeddingsModel</h3>
<p>Sets the embeddings model identifier for the Squawk instance.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">EmbeddingsModel</span><span class="p">(</span><span class="nx">model</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">    </span><span class="nx">EmbeddingsModel</span><span class="p">(</span><span class="s">&quot;nomic-embed-text&quot;</span><span class="p">).</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="baseurl">BaseURL</h3>
<p>Sets the base URL for the API endpoint of the chosen provider.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">BaseURL</span><span class="p">(</span><span class="nx">url</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">    </span><span class="nx">BaseURL</span><span class="p">(</span><span class="s">&quot;http://localhost:11434&quot;</span><span class="p">).</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="provider">Provider</h3>
<p>Sets the LLM provider for the Squawk instance and configures the API URL and other parameters.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">llmProvider</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">parameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Examples:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span>
<span class="normal"><a href="#__codelineno-11-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="c1">// Ollama</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">)</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="c1">// OpenAI</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;gpt-4&quot;</span><span class="p">).</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">OpenAI</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;your-api-key&quot;</span><span class="p">)</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a><span class="c1">// Docker Model Runner</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;llama:13b&quot;</span><span class="p">).</span>
<a id="__codelineno-11-14" name="__codelineno-11-14"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">DockerModelRunner</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h3 id="options">Options</h3>
<p>Sets the configuration options for the language model interactions.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Options</span><span class="p">(</span><span class="nx">options</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Options</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span>
<span class="normal"><a href="#__codelineno-13-2">2</a></span>
<span class="normal"><a href="#__codelineno-13-3">3</a></span>
<span class="normal"><a href="#__codelineno-13-4">4</a></span>
<span class="normal"><a href="#__codelineno-13-5">5</a></span>
<span class="normal"><a href="#__codelineno-13-6">6</a></span>
<span class="normal"><a href="#__codelineno-13-7">7</a></span>
<span class="normal"><a href="#__codelineno-13-8">8</a></span>
<span class="normal"><a href="#__codelineno-13-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">    </span><span class="nx">Options</span><span class="p">(</span><span class="nx">llm</span><span class="p">.</span><span class="nx">SetOptions</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">        </span><span class="nx">option</span><span class="p">.</span><span class="nx">Temperature</span><span class="p">:</span><span class="w">   </span><span class="mf">0.7</span><span class="p">,</span>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">        </span><span class="nx">option</span><span class="p">.</span><span class="nx">TopP</span><span class="p">:</span><span class="w">          </span><span class="mf">0.9</span><span class="p">,</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">        </span><span class="nx">option</span><span class="p">.</span><span class="nx">RepeatLastN</span><span class="p">:</span><span class="w">   </span><span class="mi">64</span><span class="p">,</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">        </span><span class="nx">option</span><span class="p">.</span><span class="nx">RepeatPenalty</span><span class="p">:</span><span class="w"> </span><span class="mf">1.1</span><span class="p">,</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">    </span><span class="p">}))</span>
</code></pre></div></td></tr></table></div></p>
<p>Common options:
- Temperature: Controls randomness (0.0 to 1.0)
- TopP: Nucleus sampling parameter
- RepeatLastN: Number of tokens to look back for repetitions
- RepeatPenalty: Penalty for repeated tokens
- TopK: Limits vocabulary to top K tokens
- MaxTokens: Maximum tokens to generate</p>
<h2 id="message-management">Message Management</h2>
<h3 id="system">System</h3>
<p>Adds a system message to the conversation context.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">System</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Examples:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span>
<span class="normal"><a href="#__codelineno-15-6">6</a></span>
<span class="normal"><a href="#__codelineno-15-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="c1">// Basic system message</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="w">    </span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;You are a helpful AI assistant specializing in Go programming&quot;</span><span class="p">)</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="c1">// Labeled system message</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="w">    </span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;You are a code review expert&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;code-reviewer&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="user">User</h3>
<p>Adds a user message to the conversation context.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">User</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Examples:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span>
<span class="normal"><a href="#__codelineno-17-5">5</a></span>
<span class="normal"><a href="#__codelineno-17-6">6</a></span>
<span class="normal"><a href="#__codelineno-17-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="c1">// Basic user message</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;What is the capital of France?&quot;</span><span class="p">)</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="c1">// Labeled user message</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Review this Go code...&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;code-review-1&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="assistant">Assistant</h3>
<p>Adds an assistant message to the conversation context.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Assistant</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Examples:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span>
<span class="normal"><a href="#__codelineno-19-3">3</a></span>
<span class="normal"><a href="#__codelineno-19-4">4</a></span>
<span class="normal"><a href="#__codelineno-19-5">5</a></span>
<span class="normal"><a href="#__codelineno-19-6">6</a></span>
<span class="normal"><a href="#__codelineno-19-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="c1">// Basic assistant message</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a><span class="w">    </span><span class="nx">Assistant</span><span class="p">(</span><span class="s">&quot;A goroutine is a lightweight thread of execution in Go&quot;</span><span class="p">)</span>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="c1">// Labeled assistant message</span>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="w">    </span><span class="nx">Assistant</span><span class="p">(</span><span class="s">&quot;The function looks good but needs error handling&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;review-1&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="addsetofmessages">AddSetOfMessages</h3>
<p>Creates or extends a conversation with provided messages.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">AddSetOfMessages</span><span class="p">(</span><span class="nx">messages</span><span class="w"> </span><span class="o">...</span><span class="kd">interface</span><span class="p">{})</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Examples:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-21-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-21-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-21-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-21-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-21-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-21-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-21-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-21-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-21-10">10</a></span>
<span class="normal"><a href="#__codelineno-21-11">11</a></span>
<span class="normal"><a href="#__codelineno-21-12">12</a></span>
<span class="normal"><a href="#__codelineno-21-13">13</a></span>
<span class="normal"><a href="#__codelineno-21-14">14</a></span>
<span class="normal"><a href="#__codelineno-21-15">15</a></span>
<span class="normal"><a href="#__codelineno-21-16">16</a></span>
<span class="normal"><a href="#__codelineno-21-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="c1">// Adding single messages</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="w">    </span><span class="nx">AddSetOfMessages</span><span class="p">(</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="w">        </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Message</span><span class="p">{</span><span class="nx">Role</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;system&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">Content</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;You are a Go expert&quot;</span><span class="p">},</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="w">        </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Message</span><span class="p">{</span><span class="nx">Role</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">Content</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Explain channels&quot;</span><span class="p">},</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a>
<a id="__codelineno-21-8" name="__codelineno-21-8"></a><span class="c1">// Adding a slice of messages</span>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a><span class="nx">previousMessages</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Message</span><span class="p">{</span>
<a id="__codelineno-21-10" name="__codelineno-21-10"></a><span class="w">    </span><span class="p">{</span><span class="nx">Role</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;system&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">Content</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;You are a Go expert&quot;</span><span class="p">},</span>
<a id="__codelineno-21-11" name="__codelineno-21-11"></a><span class="w">    </span><span class="p">{</span><span class="nx">Role</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">Content</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;What is concurrency?&quot;</span><span class="p">},</span>
<a id="__codelineno-21-12" name="__codelineno-21-12"></a><span class="w">    </span><span class="p">{</span><span class="nx">Role</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;assistant&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">Content</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Concurrency is...&quot;</span><span class="p">},</span>
<a id="__codelineno-21-13" name="__codelineno-21-13"></a><span class="p">}</span>
<a id="__codelineno-21-14" name="__codelineno-21-14"></a>
<a id="__codelineno-21-15" name="__codelineno-21-15"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-21-16" name="__codelineno-21-16"></a><span class="w">    </span><span class="nx">AddSetOfMessages</span><span class="p">(</span><span class="nx">previousMessages</span><span class="p">).</span>
<a id="__codelineno-21-17" name="__codelineno-21-17"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;How does this relate to goroutines?&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="messages">Messages</h3>
<p>Returns the current conversation context as a slice of messages.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Messages</span><span class="p">()</span><span class="w"> </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Message</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="nx">messages</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Messages</span><span class="p">()</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">msg</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">messages</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Role: %s, Content: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">msg</span><span class="p">.</span><span class="nx">Role</span><span class="p">,</span><span class="w"> </span><span class="nx">msg</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="saveassistantanswer">SaveAssistantAnswer</h3>
<p>Adds the last model response to the conversation history as an assistant message.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">SaveAssistantAnswer</span><span class="p">(</span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Examples:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span>
<span class="normal"><a href="#__codelineno-25-6">6</a></span>
<span class="normal"><a href="#__codelineno-25-7">7</a></span>
<span class="normal"><a href="#__codelineno-25-8">8</a></span>
<span class="normal"><a href="#__codelineno-25-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="c1">// Save without label</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="w">    </span><span class="nx">Chat</span><span class="p">(</span><span class="cm">/* ... */</span><span class="p">).</span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="w">    </span><span class="nx">SaveAssistantAnswer</span><span class="p">()</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a>
<a id="__codelineno-25-6" name="__codelineno-25-6"></a><span class="c1">// Save with label</span>
<a id="__codelineno-25-7" name="__codelineno-25-7"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-25-8" name="__codelineno-25-8"></a><span class="w">    </span><span class="nx">Chat</span><span class="p">(</span><span class="cm">/* ... */</span><span class="p">).</span>
<a id="__codelineno-25-9" name="__codelineno-25-9"></a><span class="w">    </span><span class="nx">SaveAssistantAnswer</span><span class="p">(</span><span class="s">&quot;answer-1&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="lastanswer">LastAnswer</h3>
<p>Gets or sets the most recent answer from the language model.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">LastAnswer</span><span class="p">(</span><span class="nx">optionalAnswer</span><span class="w"> </span><span class="o">...</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">)</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-27-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-27-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-27-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-27-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-27-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-27-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-27-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-27-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-27-10">10</a></span>
<span class="normal"><a href="#__codelineno-27-11">11</a></span>
<span class="normal"><a href="#__codelineno-27-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="c1">// Get last answer</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="nx">lastAnswer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">squawk</span><span class="p">.</span><span class="nx">LastAnswer</span><span class="p">()</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Last response:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">lastAnswer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="c1">// Set custom answer</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="nx">customAnswer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">{</span>
<a id="__codelineno-27-7" name="__codelineno-27-7"></a><span class="w">    </span><span class="nx">Message</span><span class="p">:</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Message</span><span class="p">{</span>
<a id="__codelineno-27-8" name="__codelineno-27-8"></a><span class="w">        </span><span class="nx">Role</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;assistant&quot;</span><span class="p">,</span>
<a id="__codelineno-27-9" name="__codelineno-27-9"></a><span class="w">        </span><span class="nx">Content</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Custom response&quot;</span><span class="p">,</span>
<a id="__codelineno-27-10" name="__codelineno-27-10"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-27-11" name="__codelineno-27-11"></a><span class="p">}</span>
<a id="__codelineno-27-12" name="__codelineno-27-12"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">LastAnswer</span><span class="p">(</span><span class="nx">customAnswer</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="removemessagebylabel">RemoveMessageByLabel</h3>
<p>Removes messages with the specified label from the conversation context.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">RemoveMessageByLabel</span><span class="p">(</span><span class="nx">label</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span>
<span class="normal"><a href="#__codelineno-29-2">2</a></span>
<span class="normal"><a href="#__codelineno-29-3">3</a></span>
<span class="normal"><a href="#__codelineno-29-4">4</a></span>
<span class="normal"><a href="#__codelineno-29-5">5</a></span>
<span class="normal"><a href="#__codelineno-29-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="w">    </span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;You are a Go expert&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;role&quot;</span><span class="p">).</span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;What is a channel?&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;question-1&quot;</span><span class="p">).</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="w">    </span><span class="nx">Chat</span><span class="p">(</span><span class="cm">/* ... */</span><span class="p">).</span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="w">    </span><span class="nx">SaveAssistantAnswer</span><span class="p">(</span><span class="s">&quot;answer-1&quot;</span><span class="p">).</span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a><span class="w">    </span><span class="nx">RemoveMessageByLabel</span><span class="p">(</span><span class="s">&quot;question-1&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="chat-completions">Chat Completions</h2>
<h3 id="chat">Chat</h3>
<p>Executes a non-streaming chat completion request and handles the response through a callback function.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Chat</span><span class="p">(</span><span class="nx">callBack</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-31-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-31-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-31-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-31-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-31-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-31-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-31-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-31-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-31-10">10</a></span>
<span class="normal"><a href="#__codelineno-31-11">11</a></span>
<span class="normal"><a href="#__codelineno-31-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="w">    </span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;You are a Go expert&quot;</span><span class="p">).</span>
<a id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;What is a channel?&quot;</span><span class="p">).</span>
<a id="__codelineno-31-6" name="__codelineno-31-6"></a><span class="w">    </span><span class="nx">Chat</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Error: %v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-31-9" name="__codelineno-31-9"></a><span class="w">            </span><span class="k">return</span>
<a id="__codelineno-31-10" name="__codelineno-31-10"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-31-11" name="__codelineno-31-11"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-31-12" name="__codelineno-31-12"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="streaming-responses">Streaming Responses</h2>
<h3 id="chatstream">ChatStream</h3>
<p>Executes a streaming chat completion request and handles the response through a callback function.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">ChatStream</span><span class="p">(</span><span class="nx">callBack</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-33-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-33-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-33-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-33-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-33-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-33-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-33-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-33-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-33-10">10</a></span>
<span class="normal"><a href="#__codelineno-33-11">11</a></span>
<span class="normal"><a href="#__codelineno-33-12">12</a></span>
<span class="normal"><a href="#__codelineno-33-13">13</a></span>
<span class="normal"><a href="#__codelineno-33-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><span class="w">    </span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;You are a Go expert&quot;</span><span class="p">).</span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Explain channels in detail&quot;</span><span class="p">).</span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">    </span><span class="nx">ChatStream</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">answer</span><span class="p">.</span><span class="nx">Error</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Stream error: %v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">answer</span><span class="p">.</span><span class="nx">Error</span><span class="p">)</span>
<a id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">answer</span><span class="p">.</span><span class="nx">Error</span>
<a id="__codelineno-33-10" name="__codelineno-33-10"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-33-11" name="__codelineno-33-11"></a>
<a id="__codelineno-33-12" name="__codelineno-33-12"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Print</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-33-13" name="__codelineno-33-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-33-14" name="__codelineno-33-14"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="structured-output">Structured Output</h2>
<h3 id="schema">Schema</h3>
<p>Sets a schema for structured output from the language model.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Schema</span><span class="p">(</span><span class="nx">schema</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-35-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-35-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-35-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-35-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-35-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-35-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-35-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-35-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-35-10">10</a></span>
<span class="normal"><a href="#__codelineno-35-11">11</a></span>
<span class="normal"><a href="#__codelineno-35-12">12</a></span>
<span class="normal"><a href="#__codelineno-35-13">13</a></span>
<span class="normal"><a href="#__codelineno-35-14">14</a></span>
<span class="normal"><a href="#__codelineno-35-15">15</a></span>
<span class="normal"><a href="#__codelineno-35-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="w">    </span><span class="nx">Schema</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="w">        </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;object&quot;</span><span class="p">,</span>
<a id="__codelineno-35-6" name="__codelineno-35-6"></a><span class="w">        </span><span class="s">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="w">            </span><span class="s">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-35-8" name="__codelineno-35-8"></a><span class="w">                </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;string&quot;</span><span class="p">,</span>
<a id="__codelineno-35-9" name="__codelineno-35-9"></a><span class="w">                </span><span class="s">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;The name of the person&quot;</span><span class="p">,</span>
<a id="__codelineno-35-10" name="__codelineno-35-10"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-35-11" name="__codelineno-35-11"></a><span class="w">            </span><span class="s">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-35-12" name="__codelineno-35-12"></a><span class="w">                </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;integer&quot;</span><span class="p">,</span>
<a id="__codelineno-35-13" name="__codelineno-35-13"></a><span class="w">                </span><span class="s">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;The age of the person&quot;</span><span class="p">,</span>
<a id="__codelineno-35-14" name="__codelineno-35-14"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-35-15" name="__codelineno-35-15"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-35-16" name="__codelineno-35-16"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="structuredoutput">StructuredOutput</h3>
<p>Processes a structured chat completion request and handles the response through a callback function.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">StructuredOutput</span><span class="p">(</span><span class="nx">callBack</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-37-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-37-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-37-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-37-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-37-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-37-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-37-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-37-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-37-10">10</a></span>
<span class="normal"><a href="#__codelineno-37-11">11</a></span>
<span class="normal"><a href="#__codelineno-37-12">12</a></span>
<span class="normal"><a href="#__codelineno-37-13">13</a></span>
<span class="normal"><a href="#__codelineno-37-14">14</a></span>
<span class="normal"><a href="#__codelineno-37-15">15</a></span>
<span class="normal"><a href="#__codelineno-37-16">16</a></span>
<span class="normal"><a href="#__codelineno-37-17">17</a></span>
<span class="normal"><a href="#__codelineno-37-18">18</a></span>
<span class="normal"><a href="#__codelineno-37-19">19</a></span>
<span class="normal"><a href="#__codelineno-37-20">20</a></span>
<span class="normal"><a href="#__codelineno-37-21">21</a></span>
<span class="normal"><a href="#__codelineno-37-22">22</a></span>
<span class="normal"><a href="#__codelineno-37-23">23</a></span>
<span class="normal"><a href="#__codelineno-37-24">24</a></span>
<span class="normal"><a href="#__codelineno-37-25">25</a></span>
<span class="normal"><a href="#__codelineno-37-26">26</a></span>
<span class="normal"><a href="#__codelineno-37-27">27</a></span>
<span class="normal"><a href="#__codelineno-37-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="w">    </span><span class="nx">Schema</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="w">        </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;object&quot;</span><span class="p">,</span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a><span class="w">        </span><span class="s">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="w">            </span><span class="s">&quot;functionName&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-37-8" name="__codelineno-37-8"></a><span class="w">                </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;string&quot;</span><span class="p">,</span>
<a id="__codelineno-37-9" name="__codelineno-37-9"></a><span class="w">                </span><span class="s">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Name of the function&quot;</span><span class="p">,</span>
<a id="__codelineno-37-10" name="__codelineno-37-10"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-37-11" name="__codelineno-37-11"></a><span class="w">            </span><span class="s">&quot;complexity&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-37-12" name="__codelineno-37-12"></a><span class="w">                </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;string&quot;</span><span class="p">,</span>
<a id="__codelineno-37-13" name="__codelineno-37-13"></a><span class="w">                </span><span class="s">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;O(1)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;O(n)&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;O(n^2)&quot;</span><span class="p">],</span>
<a id="__codelineno-37-14" name="__codelineno-37-14"></a><span class="w">                </span><span class="s">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Time complexity of the function&quot;</span><span class="p">,</span>
<a id="__codelineno-37-15" name="__codelineno-37-15"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-37-16" name="__codelineno-37-16"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-37-17" name="__codelineno-37-17"></a><span class="w">    </span><span class="p">}).</span>
<a id="__codelineno-37-18" name="__codelineno-37-18"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Analyze this function: func BubbleSort(arr []int) []int { ... }&quot;</span><span class="p">).</span>
<a id="__codelineno-37-19" name="__codelineno-37-19"></a><span class="w">    </span><span class="nx">StructuredOutput</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-20" name="__codelineno-37-20"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-21" name="__codelineno-37-21"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Error:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-37-22" name="__codelineno-37-22"></a><span class="w">            </span><span class="k">return</span>
<a id="__codelineno-37-23" name="__codelineno-37-23"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-37-24" name="__codelineno-37-24"></a><span class="w">        </span><span class="nx">result</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">answer</span><span class="p">.</span><span class="nx">StructuredOutput</span>
<a id="__codelineno-37-25" name="__codelineno-37-25"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Function: %s\nComplexity: %s\n&quot;</span><span class="p">,</span>
<a id="__codelineno-37-26" name="__codelineno-37-26"></a><span class="w">            </span><span class="nx">result</span><span class="p">[</span><span class="s">&quot;functionName&quot;</span><span class="p">],</span>
<a id="__codelineno-37-27" name="__codelineno-37-27"></a><span class="w">            </span><span class="nx">result</span><span class="p">[</span><span class="s">&quot;complexity&quot;</span><span class="p">])</span>
<a id="__codelineno-37-28" name="__codelineno-37-28"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="embeddings-and-rag">Embeddings and RAG</h2>
<h3 id="store">Store</h3>
<p>Sets the vector store for embeddings in the Squawk instance.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Store</span><span class="p">(</span><span class="nx">store</span><span class="w"> </span><span class="nx">embeddings</span><span class="p">.</span><span class="nx">VectorStore</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span>
<span class="normal"><a href="#__codelineno-39-2">2</a></span>
<span class="normal"><a href="#__codelineno-39-3">3</a></span>
<span class="normal"><a href="#__codelineno-39-4">4</a></span>
<span class="normal"><a href="#__codelineno-39-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="nx">memStore</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">embeddings</span><span class="p">.</span><span class="nx">NewMemoryVectorStore</span><span class="p">()</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="w">    </span><span class="nx">EmbeddingsModel</span><span class="p">(</span><span class="s">&quot;nomic-embed-text&quot;</span><span class="p">).</span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="w">    </span><span class="nx">Store</span><span class="p">(</span><span class="nx">memStore</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="generateembeddings">GenerateEmbeddings</h3>
<p>Creates vector embeddings for a list of documents and stores them in the configured vector store.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">GenerateEmbeddings</span><span class="p">(</span><span class="nx">docs</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">any</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-41-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-41-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-41-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-41-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-41-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-41-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-41-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-41-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-41-10">10</a></span>
<span class="normal"><a href="#__codelineno-41-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="w">    </span><span class="nx">EmbeddingsModel</span><span class="p">(</span><span class="s">&quot;nomic-embed-text&quot;</span><span class="p">).</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="w">    </span><span class="nx">Store</span><span class="p">(</span><span class="nx">embeddings</span><span class="p">.</span><span class="nx">NewMemoryVectorStore</span><span class="p">()).</span>
<a id="__codelineno-41-5" name="__codelineno-41-5"></a><span class="w">    </span><span class="nx">GenerateEmbeddings</span><span class="p">(</span>
<a id="__codelineno-41-6" name="__codelineno-41-6"></a><span class="w">        </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
<a id="__codelineno-41-7" name="__codelineno-41-7"></a><span class="w">            </span><span class="s">&quot;Go is a statically typed language&quot;</span><span class="p">,</span>
<a id="__codelineno-41-8" name="__codelineno-41-8"></a><span class="w">            </span><span class="s">&quot;Go has built-in concurrency support&quot;</span><span class="p">,</span>
<a id="__codelineno-41-9" name="__codelineno-41-9"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-41-10" name="__codelineno-41-10"></a><span class="w">        </span><span class="kc">true</span><span class="w">  </span><span class="c1">// Enable logging</span>
<a id="__codelineno-41-11" name="__codelineno-41-11"></a><span class="w">    </span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="similaritysearch">SimilaritySearch</h3>
<p>Performs a semantic search against stored embeddings to find similar documents.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">SimilaritySearch</span><span class="p">(</span><span class="nx">content</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">limit</span><span class="w"> </span><span class="kt">float64</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">any</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1">1</a></span>
<span class="normal"><a href="#__codelineno-43-2">2</a></span>
<span class="normal"><a href="#__codelineno-43-3">3</a></span>
<span class="normal"><a href="#__codelineno-43-4">4</a></span>
<span class="normal"><a href="#__codelineno-43-5">5</a></span>
<span class="normal"><a href="#__codelineno-43-6">6</a></span>
<span class="normal"><a href="#__codelineno-43-7">7</a></span>
<span class="normal"><a href="#__codelineno-43-8">8</a></span>
<span class="normal"><a href="#__codelineno-43-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a><span class="w">    </span><span class="nx">EmbeddingsModel</span><span class="p">(</span><span class="s">&quot;nomic-embed-text&quot;</span><span class="p">).</span>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-43-4" name="__codelineno-43-4"></a><span class="w">    </span><span class="nx">Store</span><span class="p">(</span><span class="nx">embeddings</span><span class="p">.</span><span class="nx">NewMemoryVectorStore</span><span class="p">()).</span>
<a id="__codelineno-43-5" name="__codelineno-43-5"></a><span class="w">    </span><span class="nx">GenerateEmbeddings</span><span class="p">([]</span><span class="kt">string</span><span class="p">{</span>
<a id="__codelineno-43-6" name="__codelineno-43-6"></a><span class="w">        </span><span class="s">&quot;Go is a statically typed language&quot;</span><span class="p">,</span>
<a id="__codelineno-43-7" name="__codelineno-43-7"></a><span class="w">        </span><span class="s">&quot;Go supports concurrent programming&quot;</span><span class="p">,</span>
<a id="__codelineno-43-8" name="__codelineno-43-8"></a><span class="w">    </span><span class="p">}).</span>
<a id="__codelineno-43-9" name="__codelineno-43-9"></a><span class="w">    </span><span class="nx">SimilaritySearch</span><span class="p">(</span><span class="s">&quot;concurrent Go features&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="similaritysearchfromusermessage">SimilaritySearchFromUserMessage</h3>
<p>Performs a semantic search using the content of a labeled user message as the search query.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">SimilaritySearchFromUserMessage</span><span class="p">(</span><span class="nx">userMessageLabel</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">limit</span><span class="w"> </span><span class="kt">float64</span><span class="p">,</span><span class="w"> </span><span class="nx">max</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">any</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-45-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-45-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-45-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-45-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-45-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-45-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-45-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-45-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-45-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="w">    </span><span class="nx">EmbeddingsModel</span><span class="p">(</span><span class="s">&quot;nomic-embed-text&quot;</span><span class="p">).</span>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="w">    </span><span class="nx">Store</span><span class="p">(</span><span class="nx">embeddings</span><span class="p">.</span><span class="nx">NewMemoryVectorStore</span><span class="p">()).</span>
<a id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="w">    </span><span class="nx">GenerateEmbeddings</span><span class="p">([]</span><span class="kt">string</span><span class="p">{</span>
<a id="__codelineno-45-6" name="__codelineno-45-6"></a><span class="w">        </span><span class="s">&quot;Go is a statically typed language&quot;</span><span class="p">,</span>
<a id="__codelineno-45-7" name="__codelineno-45-7"></a><span class="w">        </span><span class="s">&quot;Go supports concurrent programming&quot;</span><span class="p">,</span>
<a id="__codelineno-45-8" name="__codelineno-45-8"></a><span class="w">    </span><span class="p">}).</span>
<a id="__codelineno-45-9" name="__codelineno-45-9"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Tell me about Go concurrency&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;question-1&quot;</span><span class="p">).</span>
<a id="__codelineno-45-10" name="__codelineno-45-10"></a><span class="w">    </span><span class="nx">SimilaritySearchFromUserMessage</span><span class="p">(</span><span class="s">&quot;question-1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="addsimilaritiestomessages">AddSimilaritiesToMessages</h3>
<p>Adds the context generated from similarity search results to the conversation as a system message.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">AddSimilaritiesToMessages</span><span class="p">(</span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1">1</a></span>
<span class="normal"><a href="#__codelineno-47-2">2</a></span>
<span class="normal"><a href="#__codelineno-47-3">3</a></span>
<span class="normal"><a href="#__codelineno-47-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-47-2" name="__codelineno-47-2"></a><span class="w">    </span><span class="nx">SimilaritySearch</span><span class="p">(</span><span class="s">&quot;concurrent Go features&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">).</span>
<a id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="w">    </span><span class="nx">AddSimilaritiesToMessages</span><span class="p">(</span><span class="s">&quot;context-1&quot;</span><span class="p">).</span>
<a id="__codelineno-47-4" name="__codelineno-47-4"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Explain these concepts&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="addsimilaritiestomessageswithprefix">AddSimilaritiesToMessagesWithPrefix</h3>
<p>Adds the context generated from similarity search results to the conversation as a system message, with a custom prefix.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">AddSimilaritiesToMessagesWithPrefix</span><span class="p">(</span><span class="nx">prefix</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1">1</a></span>
<span class="normal"><a href="#__codelineno-49-2">2</a></span>
<span class="normal"><a href="#__codelineno-49-3">3</a></span>
<span class="normal"><a href="#__codelineno-49-4">4</a></span>
<span class="normal"><a href="#__codelineno-49-5">5</a></span>
<span class="normal"><a href="#__codelineno-49-6">6</a></span>
<span class="normal"><a href="#__codelineno-49-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-49-2" name="__codelineno-49-2"></a><span class="w">    </span><span class="nx">SimilaritySearch</span><span class="p">(</span><span class="s">&quot;concurrent Go features&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">).</span>
<a id="__codelineno-49-3" name="__codelineno-49-3"></a><span class="w">    </span><span class="nx">AddSimilaritiesToMessagesWithPrefix</span><span class="p">(</span>
<a id="__codelineno-49-4" name="__codelineno-49-4"></a><span class="w">        </span><span class="s">&quot;Use this documentation as context: \n\n&quot;</span><span class="p">,</span>
<a id="__codelineno-49-5" name="__codelineno-49-5"></a><span class="w">        </span><span class="s">&quot;context-1&quot;</span><span class="p">,</span>
<a id="__codelineno-49-6" name="__codelineno-49-6"></a><span class="w">    </span><span class="p">).</span>
<a id="__codelineno-49-7" name="__codelineno-49-7"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Explain these concepts&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="similarities">Similarities</h3>
<p>Returns the vector records from the most recent similarity search.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Similarities</span><span class="p">()</span><span class="w"> </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">VectorRecord</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-51-1">1</a></span>
<span class="normal"><a href="#__codelineno-51-2">2</a></span>
<span class="normal"><a href="#__codelineno-51-3">3</a></span>
<span class="normal"><a href="#__codelineno-51-4">4</a></span>
<span class="normal"><a href="#__codelineno-51-5">5</a></span>
<span class="normal"><a href="#__codelineno-51-6">6</a></span>
<span class="normal"><a href="#__codelineno-51-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="nx">similarities</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Similarities</span><span class="p">()</span>
<a id="__codelineno-51-2" name="__codelineno-51-2"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">record</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">similarities</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-3" name="__codelineno-51-3"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Score: %.2f, Content: %s\n&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-51-4" name="__codelineno-51-4"></a><span class="w">        </span><span class="nx">record</span><span class="p">.</span><span class="nx">Score</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-51-5" name="__codelineno-51-5"></a><span class="w">        </span><span class="nx">record</span><span class="p">.</span><span class="nx">Content</span><span class="p">,</span>
<a id="__codelineno-51-6" name="__codelineno-51-6"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-51-7" name="__codelineno-51-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="contextfromsimilarities">ContextFromSimilarities</h3>
<p>Generates a formatted string containing the content from similarity search results.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-52-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">ContextFromSimilarities</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-1">1</a></span>
<span class="normal"><a href="#__codelineno-53-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1"></a><span class="nx">context</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">squawk</span><span class="p">.</span><span class="nx">ContextFromSimilarities</span><span class="p">()</span>
<a id="__codelineno-53-2" name="__codelineno-53-2"></a><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Retrieved context:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">context</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="function-calling-with-tools">Function Calling with Tools</h2>
<h3 id="tools">Tools</h3>
<p>Sets the list of available tools for function calling capabilities.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-54-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Tools</span><span class="p">(</span><span class="nx">toolsList</span><span class="w"> </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Tool</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-55-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-55-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-55-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-55-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-55-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-55-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-55-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-55-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-55-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-55-10">10</a></span>
<span class="normal"><a href="#__codelineno-55-11">11</a></span>
<span class="normal"><a href="#__codelineno-55-12">12</a></span>
<span class="normal"><a href="#__codelineno-55-13">13</a></span>
<span class="normal"><a href="#__codelineno-55-14">14</a></span>
<span class="normal"><a href="#__codelineno-55-15">15</a></span>
<span class="normal"><a href="#__codelineno-55-16">16</a></span>
<span class="normal"><a href="#__codelineno-55-17">17</a></span>
<span class="normal"><a href="#__codelineno-55-18">18</a></span>
<span class="normal"><a href="#__codelineno-55-19">19</a></span>
<span class="normal"><a href="#__codelineno-55-20">20</a></span>
<span class="normal"><a href="#__codelineno-55-21">21</a></span>
<span class="normal"><a href="#__codelineno-55-22">22</a></span>
<span class="normal"><a href="#__codelineno-55-23">23</a></span>
<span class="normal"><a href="#__codelineno-55-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1"></a><span class="nx">toolsList</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Tool</span><span class="p">{</span>
<a id="__codelineno-55-2" name="__codelineno-55-2"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-55-3" name="__codelineno-55-3"></a><span class="w">        </span><span class="nx">Type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;function&quot;</span><span class="p">,</span>
<a id="__codelineno-55-4" name="__codelineno-55-4"></a><span class="w">        </span><span class="nx">Function</span><span class="p">:</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Function</span><span class="p">{</span>
<a id="__codelineno-55-5" name="__codelineno-55-5"></a><span class="w">            </span><span class="nx">Name</span><span class="p">:</span><span class="w">        </span><span class="s">&quot;get_weather&quot;</span><span class="p">,</span>
<a id="__codelineno-55-6" name="__codelineno-55-6"></a><span class="w">            </span><span class="nx">Description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Get current weather for a location&quot;</span><span class="p">,</span>
<a id="__codelineno-55-7" name="__codelineno-55-7"></a><span class="w">            </span><span class="nx">Parameters</span><span class="p">:</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Parameters</span><span class="p">{</span>
<a id="__codelineno-55-8" name="__codelineno-55-8"></a><span class="w">                </span><span class="nx">Type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;object&quot;</span><span class="p">,</span>
<a id="__codelineno-55-9" name="__codelineno-55-9"></a><span class="w">                </span><span class="nx">Properties</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Property</span><span class="p">{</span>
<a id="__codelineno-55-10" name="__codelineno-55-10"></a><span class="w">                    </span><span class="s">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-11" name="__codelineno-55-11"></a><span class="w">                        </span><span class="nx">Type</span><span class="p">:</span><span class="w">        </span><span class="s">&quot;string&quot;</span><span class="p">,</span>
<a id="__codelineno-55-12" name="__codelineno-55-12"></a><span class="w">                        </span><span class="nx">Description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;City name&quot;</span><span class="p">,</span>
<a id="__codelineno-55-13" name="__codelineno-55-13"></a><span class="w">                    </span><span class="p">},</span>
<a id="__codelineno-55-14" name="__codelineno-55-14"></a><span class="w">                </span><span class="p">},</span>
<a id="__codelineno-55-15" name="__codelineno-55-15"></a><span class="w">                </span><span class="nx">Required</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&quot;location&quot;</span><span class="p">},</span>
<a id="__codelineno-55-16" name="__codelineno-55-16"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-55-17" name="__codelineno-55-17"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-55-18" name="__codelineno-55-18"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-55-19" name="__codelineno-55-19"></a><span class="p">}</span>
<a id="__codelineno-55-20" name="__codelineno-55-20"></a>
<a id="__codelineno-55-21" name="__codelineno-55-21"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-55-22" name="__codelineno-55-22"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-55-23" name="__codelineno-55-23"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-55-24" name="__codelineno-55-24"></a><span class="w">    </span><span class="nx">Tools</span><span class="p">(</span><span class="nx">toolsList</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="functioncalling">FunctionCalling</h3>
<p>Executes a function calling request and processes the results through a callback function.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-56-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">FunctionCalling</span><span class="p">(</span><span class="nx">callBack</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-57-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-57-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-57-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-57-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-57-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-57-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-57-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-57-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-57-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-57-10">10</a></span>
<span class="normal"><a href="#__codelineno-57-11">11</a></span>
<span class="normal"><a href="#__codelineno-57-12">12</a></span>
<span class="normal"><a href="#__codelineno-57-13">13</a></span>
<span class="normal"><a href="#__codelineno-57-14">14</a></span>
<span class="normal"><a href="#__codelineno-57-15">15</a></span>
<span class="normal"><a href="#__codelineno-57-16">16</a></span>
<span class="normal"><a href="#__codelineno-57-17">17</a></span>
<span class="normal"><a href="#__codelineno-57-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-57-2" name="__codelineno-57-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-57-3" name="__codelineno-57-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-57-4" name="__codelineno-57-4"></a><span class="w">    </span><span class="nx">Tools</span><span class="p">(</span><span class="nx">toolsList</span><span class="p">).</span>
<a id="__codelineno-57-5" name="__codelineno-57-5"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Find all records about Go programming&quot;</span><span class="p">).</span>
<a id="__codelineno-57-6" name="__codelineno-57-6"></a><span class="w">    </span><span class="nx">FunctionCalling</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-7" name="__codelineno-57-7"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-8" name="__codelineno-57-8"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Error:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-57-9" name="__codelineno-57-9"></a><span class="w">            </span><span class="k">return</span>
<a id="__codelineno-57-10" name="__codelineno-57-10"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-11" name="__codelineno-57-11"></a>
<a id="__codelineno-57-12" name="__codelineno-57-12"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">call</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">s</span><span class="p">.</span><span class="nx">ToolCalls</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-13" name="__codelineno-57-13"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Function: %s\nArguments: %v\n&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-57-14" name="__codelineno-57-14"></a><span class="w">                </span><span class="nx">call</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-57-15" name="__codelineno-57-15"></a><span class="w">                </span><span class="nx">call</span><span class="p">.</span><span class="nx">Arguments</span><span class="p">,</span>
<a id="__codelineno-57-16" name="__codelineno-57-16"></a><span class="w">            </span><span class="p">)</span>
<a id="__codelineno-57-17" name="__codelineno-57-17"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-57-18" name="__codelineno-57-18"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="toolcalls">ToolCalls</h3>
<p>Returns the tool calls from the most recent function calling interaction.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-58-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">ToolCalls</span><span class="p">()</span><span class="w"> </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">ToolCall</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-59-1">1</a></span>
<span class="normal"><a href="#__codelineno-59-2">2</a></span>
<span class="normal"><a href="#__codelineno-59-3">3</a></span>
<span class="normal"><a href="#__codelineno-59-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1"></a><span class="nx">calls</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">s</span><span class="p">.</span><span class="nx">ToolCalls</span><span class="p">()</span>
<a id="__codelineno-59-2" name="__codelineno-59-2"></a><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">call</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">calls</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-59-3" name="__codelineno-59-3"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Called: %s with %v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">call</span><span class="p">.</span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="nx">call</span><span class="p">.</span><span class="nx">Arguments</span><span class="p">)</span>
<a id="__codelineno-59-4" name="__codelineno-59-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="meta-prompts">Meta Prompts</h2>
<p>Squawk provides several methods that modify the input message to the LLM using predefined prompting templates.</p>
<h3 id="forkids">ForKids</h3>
<p>Formats a message to be kid-friendly.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-60-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">ForKids</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="brief">Brief</h3>
<p>Formats a message to get a brief response.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-61-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Brief</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="asapoem">AsAPoem</h3>
<p>Formats a message to get a response in the form of a poem.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-62-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">AsAPoem</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="advantagesonly">AdvantagesOnly</h3>
<p>Formats a message to get only advantages in the response.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-63-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">AdvantagesOnly</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="asarecipe">AsARecipe</h3>
<p>Formats a message to get a response in the form of a recipe.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-64-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">AsARecipe</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="timeline">Timeline</h3>
<p>Formats a message to get a timeline in the response.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-65-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Timeline</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="comparison">Comparison</h3>
<p>Formats a message to get a comparison in the response.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-66-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Comparison</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="opinion">Opinion</h3>
<p>Formats a message to get an opinion in the response.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-67-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Opinion</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="factual">Factual</h3>
<p>Formats a message to get factual information in the response.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-68-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Factual</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="stepbystep">StepByStep</h3>
<p>Formats a message to get a step-by-step explanation in the response.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-69-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">StepByStep</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="prosandcons">ProsAndCons</h3>
<p>Formats a message to get pros and cons in the response.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-70-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">ProsAndCons</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="asastory">AsAStory</h3>
<p>Formats a message to get a response in the form of a story.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-71-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">AsAStory</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="inlaymansterms">InLaymansTerms</h3>
<p>Formats a message to get a response in simple terms.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-72-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">InLaymansTerms</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="summarize">Summarize</h3>
<p>Formats a message to get a summary in the response.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-73-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Summarize</span><span class="p">(</span><span class="nx">message</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h3 id="summarizelastanswer">SummarizeLastAnswer</h3>
<p>Formats a message to get a summary of the last answer in the response.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-74-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">SummarizeLastAnswer</span><span class="p">(</span><span class="nx">optionalParameters</span><span class="w"> </span><span class="o">...</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<h2 id="error-handling">Error Handling</h2>
<h3 id="lasterror">LastError</h3>
<p>Gets or sets the most recent error encountered during processing.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-75-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">LastError</span><span class="p">(</span><span class="nx">optionalError</span><span class="w"> </span><span class="o">...</span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-76-1">1</a></span>
<span class="normal"><a href="#__codelineno-76-2">2</a></span>
<span class="normal"><a href="#__codelineno-76-3">3</a></span>
<span class="normal"><a href="#__codelineno-76-4">4</a></span>
<span class="normal"><a href="#__codelineno-76-5">5</a></span>
<span class="normal"><a href="#__codelineno-76-6">6</a></span>
<span class="normal"><a href="#__codelineno-76-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1"></a><span class="c1">// Check for errors</span>
<a id="__codelineno-76-2" name="__codelineno-76-2"></a><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">squawk</span><span class="p">.</span><span class="nx">LastError</span><span class="p">();</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-3" name="__codelineno-76-3"></a><span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Last operation failed: %v\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-76-4" name="__codelineno-76-4"></a><span class="p">}</span>
<a id="__codelineno-76-5" name="__codelineno-76-5"></a>
<a id="__codelineno-76-6" name="__codelineno-76-6"></a><span class="c1">// Set an error</span>
<a id="__codelineno-76-7" name="__codelineno-76-7"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">LastError</span><span class="p">(</span><span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;custom error&quot;</span><span class="p">))</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="miscellaneous">Miscellaneous</h2>
<h3 id="cmd">Cmd</h3>
<p>Executes a custom command function on the Squawk instance.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-77-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">s</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="nx">Cmd</span><span class="p">(</span><span class="nx">callBack</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="nx">Squawk</span>
</code></pre></div></td></tr></table></div>
<p>Example:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-78-1">1</a></span>
<span class="normal"><a href="#__codelineno-78-2">2</a></span>
<span class="normal"><a href="#__codelineno-78-3">3</a></span>
<span class="normal"><a href="#__codelineno-78-4">4</a></span>
<span class="normal"><a href="#__codelineno-78-5">5</a></span>
<span class="normal"><a href="#__codelineno-78-6">6</a></span>
<span class="normal"><a href="#__codelineno-78-7">7</a></span>
<span class="normal"><a href="#__codelineno-78-8">8</a></span>
<span class="normal"><a href="#__codelineno-78-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-78-2" name="__codelineno-78-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-78-3" name="__codelineno-78-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-78-4" name="__codelineno-78-4"></a><span class="w">    </span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;You are a Go expert&quot;</span><span class="p">).</span>
<a id="__codelineno-78-5" name="__codelineno-78-5"></a><span class="w">    </span><span class="nx">Cmd</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-78-6" name="__codelineno-78-6"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Current model: %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="p">.</span><span class="nx">chatModel</span><span class="p">)</span>
<a id="__codelineno-78-7" name="__codelineno-78-7"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;Messages count: %d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">Messages</span><span class="p">()))</span>
<a id="__codelineno-78-8" name="__codelineno-78-8"></a><span class="w">    </span><span class="p">}).</span>
<a id="__codelineno-78-9" name="__codelineno-78-9"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;What is a channel?&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="complete-examples">Complete Examples</h2>
<h3 id="basic-chat-example">Basic Chat Example</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-79-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-79-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-79-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-79-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-79-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-79-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-79-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-79-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-79-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-79-10">10</a></span>
<span class="normal"><a href="#__codelineno-79-11">11</a></span>
<span class="normal"><a href="#__codelineno-79-12">12</a></span>
<span class="normal"><a href="#__codelineno-79-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-79-2" name="__codelineno-79-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-79-3" name="__codelineno-79-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-79-4" name="__codelineno-79-4"></a><span class="w">    </span><span class="nx">BaseURL</span><span class="p">(</span><span class="s">&quot;http://localhost:11434&quot;</span><span class="p">).</span>
<a id="__codelineno-79-5" name="__codelineno-79-5"></a><span class="w">    </span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;You are a Go expert&quot;</span><span class="p">).</span>
<a id="__codelineno-79-6" name="__codelineno-79-6"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Explain concurrency in Go&quot;</span><span class="p">).</span>
<a id="__codelineno-79-7" name="__codelineno-79-7"></a><span class="w">    </span><span class="nx">Chat</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-8" name="__codelineno-79-8"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-9" name="__codelineno-79-9"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Error:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-79-10" name="__codelineno-79-10"></a><span class="w">            </span><span class="k">return</span>
<a id="__codelineno-79-11" name="__codelineno-79-11"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-79-12" name="__codelineno-79-12"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-79-13" name="__codelineno-79-13"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
<h3 id="streaming-chat-example">Streaming Chat Example</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-80-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-80-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-80-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-80-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-80-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-80-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-80-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-80-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-80-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-80-10">10</a></span>
<span class="normal"><a href="#__codelineno-80-11">11</a></span>
<span class="normal"><a href="#__codelineno-80-12">12</a></span>
<span class="normal"><a href="#__codelineno-80-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-80-2" name="__codelineno-80-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-80-3" name="__codelineno-80-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-80-4" name="__codelineno-80-4"></a><span class="w">    </span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;You are a Go expert&quot;</span><span class="p">).</span>
<a id="__codelineno-80-5" name="__codelineno-80-5"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Explain channels in Go&quot;</span><span class="p">).</span>
<a id="__codelineno-80-6" name="__codelineno-80-6"></a><span class="w">    </span><span class="nx">ChatStream</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-80-7" name="__codelineno-80-7"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">answer</span><span class="p">.</span><span class="nx">Error</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-80-8" name="__codelineno-80-8"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Error:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">answer</span><span class="p">.</span><span class="nx">Error</span><span class="p">)</span>
<a id="__codelineno-80-9" name="__codelineno-80-9"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">answer</span><span class="p">.</span><span class="nx">Error</span>
<a id="__codelineno-80-10" name="__codelineno-80-10"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-80-11" name="__codelineno-80-11"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Print</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-80-12" name="__codelineno-80-12"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-80-13" name="__codelineno-80-13"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
<h3 id="rag-example">RAG Example</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-81-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-81-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-81-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-81-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-81-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-81-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-81-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-81-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-81-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-81-10">10</a></span>
<span class="normal"><a href="#__codelineno-81-11">11</a></span>
<span class="normal"><a href="#__codelineno-81-12">12</a></span>
<span class="normal"><a href="#__codelineno-81-13">13</a></span>
<span class="normal"><a href="#__codelineno-81-14">14</a></span>
<span class="normal"><a href="#__codelineno-81-15">15</a></span>
<span class="normal"><a href="#__codelineno-81-16">16</a></span>
<span class="normal"><a href="#__codelineno-81-17">17</a></span>
<span class="normal"><a href="#__codelineno-81-18">18</a></span>
<span class="normal"><a href="#__codelineno-81-19">19</a></span>
<span class="normal"><a href="#__codelineno-81-20">20</a></span>
<span class="normal"><a href="#__codelineno-81-21">21</a></span>
<span class="normal"><a href="#__codelineno-81-22">22</a></span>
<span class="normal"><a href="#__codelineno-81-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1"></a><span class="c1">// Sample documents</span>
<a id="__codelineno-81-2" name="__codelineno-81-2"></a><span class="nx">docs</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span>
<a id="__codelineno-81-3" name="__codelineno-81-3"></a><span class="w">    </span><span class="s">&quot;Go is a statically typed language&quot;</span><span class="p">,</span>
<a id="__codelineno-81-4" name="__codelineno-81-4"></a><span class="w">    </span><span class="s">&quot;Go supports concurrent programming&quot;</span><span class="p">,</span>
<a id="__codelineno-81-5" name="__codelineno-81-5"></a><span class="p">}</span>
<a id="__codelineno-81-6" name="__codelineno-81-6"></a>
<a id="__codelineno-81-7" name="__codelineno-81-7"></a><span class="c1">// Initialize vector store</span>
<a id="__codelineno-81-8" name="__codelineno-81-8"></a><span class="nx">store</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">embeddings</span><span class="p">.</span><span class="nx">NewMemoryVectorStore</span><span class="p">()</span>
<a id="__codelineno-81-9" name="__codelineno-81-9"></a>
<a id="__codelineno-81-10" name="__codelineno-81-10"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-81-11" name="__codelineno-81-11"></a><span class="w">    </span><span class="nx">EmbeddingsModel</span><span class="p">(</span><span class="s">&quot;nomic-embed-text&quot;</span><span class="p">).</span>
<a id="__codelineno-81-12" name="__codelineno-81-12"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-81-13" name="__codelineno-81-13"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-81-14" name="__codelineno-81-14"></a><span class="w">    </span><span class="nx">Store</span><span class="p">(</span><span class="nx">store</span><span class="p">).</span>
<a id="__codelineno-81-15" name="__codelineno-81-15"></a><span class="w">    </span><span class="nx">GenerateEmbeddings</span><span class="p">(</span><span class="nx">docs</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">).</span>
<a id="__codelineno-81-16" name="__codelineno-81-16"></a><span class="w">    </span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;You are a Go expert&quot;</span><span class="p">).</span>
<a id="__codelineno-81-17" name="__codelineno-81-17"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Tell me about Go concurrency&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;question-1&quot;</span><span class="p">).</span>
<a id="__codelineno-81-18" name="__codelineno-81-18"></a><span class="w">    </span><span class="nx">SimilaritySearchFromUserMessage</span><span class="p">(</span><span class="s">&quot;question-1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">).</span>
<a id="__codelineno-81-19" name="__codelineno-81-19"></a><span class="w">    </span><span class="nx">AddSimilaritiesToMessages</span><span class="p">(</span><span class="s">&quot;context&quot;</span><span class="p">).</span>
<a id="__codelineno-81-20" name="__codelineno-81-20"></a><span class="w">    </span><span class="nx">ChatStream</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-81-21" name="__codelineno-81-21"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Print</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-81-22" name="__codelineno-81-22"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-81-23" name="__codelineno-81-23"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
<h3 id="structured-output-example">Structured Output Example</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-82-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-82-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-82-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-82-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-82-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-82-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-82-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-82-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-82-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-82-10">10</a></span>
<span class="normal"><a href="#__codelineno-82-11">11</a></span>
<span class="normal"><a href="#__codelineno-82-12">12</a></span>
<span class="normal"><a href="#__codelineno-82-13">13</a></span>
<span class="normal"><a href="#__codelineno-82-14">14</a></span>
<span class="normal"><a href="#__codelineno-82-15">15</a></span>
<span class="normal"><a href="#__codelineno-82-16">16</a></span>
<span class="normal"><a href="#__codelineno-82-17">17</a></span>
<span class="normal"><a href="#__codelineno-82-18">18</a></span>
<span class="normal"><a href="#__codelineno-82-19">19</a></span>
<span class="normal"><a href="#__codelineno-82-20">20</a></span>
<span class="normal"><a href="#__codelineno-82-21">21</a></span>
<span class="normal"><a href="#__codelineno-82-22">22</a></span>
<span class="normal"><a href="#__codelineno-82-23">23</a></span>
<span class="normal"><a href="#__codelineno-82-24">24</a></span>
<span class="normal"><a href="#__codelineno-82-25">25</a></span>
<span class="normal"><a href="#__codelineno-82-26">26</a></span>
<span class="normal"><a href="#__codelineno-82-27">27</a></span>
<span class="normal"><a href="#__codelineno-82-28">28</a></span>
<span class="normal"><a href="#__codelineno-82-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-82-2" name="__codelineno-82-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-82-3" name="__codelineno-82-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-82-4" name="__codelineno-82-4"></a><span class="w">    </span><span class="nx">Schema</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-82-5" name="__codelineno-82-5"></a><span class="w">        </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;object&quot;</span><span class="p">,</span>
<a id="__codelineno-82-6" name="__codelineno-82-6"></a><span class="w">        </span><span class="s">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-82-7" name="__codelineno-82-7"></a><span class="w">            </span><span class="s">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-82-8" name="__codelineno-82-8"></a><span class="w">                </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;string&quot;</span><span class="p">,</span>
<a id="__codelineno-82-9" name="__codelineno-82-9"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-82-10" name="__codelineno-82-10"></a><span class="w">            </span><span class="s">&quot;capital&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-82-11" name="__codelineno-82-11"></a><span class="w">                </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;string&quot;</span><span class="p">,</span>
<a id="__codelineno-82-12" name="__codelineno-82-12"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-82-13" name="__codelineno-82-13"></a><span class="w">            </span><span class="s">&quot;languages&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-82-14" name="__codelineno-82-14"></a><span class="w">                </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;array&quot;</span><span class="p">,</span>
<a id="__codelineno-82-15" name="__codelineno-82-15"></a><span class="w">                </span><span class="s">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="p">{</span>
<a id="__codelineno-82-16" name="__codelineno-82-16"></a><span class="w">                    </span><span class="s">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;string&quot;</span><span class="p">,</span>
<a id="__codelineno-82-17" name="__codelineno-82-17"></a><span class="w">                </span><span class="p">},</span>
<a id="__codelineno-82-18" name="__codelineno-82-18"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-82-19" name="__codelineno-82-19"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-82-20" name="__codelineno-82-20"></a><span class="w">        </span><span class="s">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&quot;name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;capital&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;languages&quot;</span><span class="p">},</span>
<a id="__codelineno-82-21" name="__codelineno-82-21"></a><span class="w">    </span><span class="p">}).</span>
<a id="__codelineno-82-22" name="__codelineno-82-22"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Tell me about Canada&quot;</span><span class="p">).</span>
<a id="__codelineno-82-23" name="__codelineno-82-23"></a><span class="w">    </span><span class="nx">StructuredOutput</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-82-24" name="__codelineno-82-24"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-82-25" name="__codelineno-82-25"></a><span class="w">            </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Error:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<a id="__codelineno-82-26" name="__codelineno-82-26"></a><span class="w">            </span><span class="k">return</span>
<a id="__codelineno-82-27" name="__codelineno-82-27"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-82-28" name="__codelineno-82-28"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Structured Output:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">answer</span><span class="p">.</span><span class="nx">StructuredOutput</span><span class="p">)</span>
<a id="__codelineno-82-29" name="__codelineno-82-29"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
<h3 id="function-calling-example">Function Calling Example</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-83-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-83-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-83-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-83-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-83-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-83-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-83-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-83-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-83-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-83-10">10</a></span>
<span class="normal"><a href="#__codelineno-83-11">11</a></span>
<span class="normal"><a href="#__codelineno-83-12">12</a></span>
<span class="normal"><a href="#__codelineno-83-13">13</a></span>
<span class="normal"><a href="#__codelineno-83-14">14</a></span>
<span class="normal"><a href="#__codelineno-83-15">15</a></span>
<span class="normal"><a href="#__codelineno-83-16">16</a></span>
<span class="normal"><a href="#__codelineno-83-17">17</a></span>
<span class="normal"><a href="#__codelineno-83-18">18</a></span>
<span class="normal"><a href="#__codelineno-83-19">19</a></span>
<span class="normal"><a href="#__codelineno-83-20">20</a></span>
<span class="normal"><a href="#__codelineno-83-21">21</a></span>
<span class="normal"><a href="#__codelineno-83-22">22</a></span>
<span class="normal"><a href="#__codelineno-83-23">23</a></span>
<span class="normal"><a href="#__codelineno-83-24">24</a></span>
<span class="normal"><a href="#__codelineno-83-25">25</a></span>
<span class="normal"><a href="#__codelineno-83-26">26</a></span>
<span class="normal"><a href="#__codelineno-83-27">27</a></span>
<span class="normal"><a href="#__codelineno-83-28">28</a></span>
<span class="normal"><a href="#__codelineno-83-29">29</a></span>
<span class="normal"><a href="#__codelineno-83-30">30</a></span>
<span class="normal"><a href="#__codelineno-83-31">31</a></span>
<span class="normal"><a href="#__codelineno-83-32">32</a></span>
<span class="normal"><a href="#__codelineno-83-33">33</a></span>
<span class="normal"><a href="#__codelineno-83-34">34</a></span>
<span class="normal"><a href="#__codelineno-83-35">35</a></span>
<span class="normal"><a href="#__codelineno-83-36">36</a></span>
<span class="normal"><a href="#__codelineno-83-37">37</a></span>
<span class="normal"><a href="#__codelineno-83-38">38</a></span>
<span class="normal"><a href="#__codelineno-83-39">39</a></span>
<span class="normal"><a href="#__codelineno-83-40">40</a></span>
<span class="normal"><a href="#__codelineno-83-41">41</a></span>
<span class="normal"><a href="#__codelineno-83-42">42</a></span>
<span class="normal"><a href="#__codelineno-83-43">43</a></span>
<span class="normal"><a href="#__codelineno-83-44">44</a></span>
<span class="normal"><a href="#__codelineno-83-45">45</a></span>
<span class="normal"><a href="#__codelineno-83-46">46</a></span>
<span class="normal"><a href="#__codelineno-83-47">47</a></span>
<span class="normal"><a href="#__codelineno-83-48">48</a></span>
<span class="normal"><a href="#__codelineno-83-49">49</a></span>
<span class="normal"><a href="#__codelineno-83-50">50</a></span>
<span class="normal"><a href="#__codelineno-83-51">51</a></span>
<span class="normal"><a href="#__codelineno-83-52">52</a></span>
<span class="normal"><a href="#__codelineno-83-53">53</a></span>
<span class="normal"><a href="#__codelineno-83-54">54</a></span>
<span class="normal"><a href="#__codelineno-83-55">55</a></span>
<span class="normal"><a href="#__codelineno-83-56">56</a></span>
<span class="normal"><a href="#__codelineno-83-57">57</a></span>
<span class="normal"><a href="#__codelineno-83-58">58</a></span>
<span class="normal"><a href="#__codelineno-83-59">59</a></span>
<span class="normal"><a href="#__codelineno-83-60">60</a></span>
<span class="normal"><a href="#__codelineno-83-61">61</a></span>
<span class="normal"><a href="#__codelineno-83-62">62</a></span>
<span class="normal"><a href="#__codelineno-83-63">63</a></span>
<span class="normal"><a href="#__codelineno-83-64">64</a></span>
<span class="normal"><a href="#__codelineno-83-65">65</a></span>
<span class="normal"><a href="#__codelineno-83-66">66</a></span>
<span class="normal"><a href="#__codelineno-83-67">67</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1"></a><span class="nx">toolsList</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Tool</span><span class="p">{</span>
<a id="__codelineno-83-2" name="__codelineno-83-2"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-83-3" name="__codelineno-83-3"></a><span class="w">        </span><span class="nx">Type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;function&quot;</span><span class="p">,</span>
<a id="__codelineno-83-4" name="__codelineno-83-4"></a><span class="w">        </span><span class="nx">Function</span><span class="p">:</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Function</span><span class="p">{</span>
<a id="__codelineno-83-5" name="__codelineno-83-5"></a><span class="w">            </span><span class="nx">Name</span><span class="p">:</span><span class="w">        </span><span class="s">&quot;hello&quot;</span><span class="p">,</span>
<a id="__codelineno-83-6" name="__codelineno-83-6"></a><span class="w">            </span><span class="nx">Description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Say hello to a given person with their name&quot;</span><span class="p">,</span>
<a id="__codelineno-83-7" name="__codelineno-83-7"></a><span class="w">            </span><span class="nx">Parameters</span><span class="p">:</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Parameters</span><span class="p">{</span>
<a id="__codelineno-83-8" name="__codelineno-83-8"></a><span class="w">                </span><span class="nx">Type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;object&quot;</span><span class="p">,</span>
<a id="__codelineno-83-9" name="__codelineno-83-9"></a><span class="w">                </span><span class="nx">Properties</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Property</span><span class="p">{</span>
<a id="__codelineno-83-10" name="__codelineno-83-10"></a><span class="w">                    </span><span class="s">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-11" name="__codelineno-83-11"></a><span class="w">                        </span><span class="nx">Type</span><span class="p">:</span><span class="w">        </span><span class="s">&quot;string&quot;</span><span class="p">,</span>
<a id="__codelineno-83-12" name="__codelineno-83-12"></a><span class="w">                        </span><span class="nx">Description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;The name of the person&quot;</span><span class="p">,</span>
<a id="__codelineno-83-13" name="__codelineno-83-13"></a><span class="w">                    </span><span class="p">},</span>
<a id="__codelineno-83-14" name="__codelineno-83-14"></a><span class="w">                </span><span class="p">},</span>
<a id="__codelineno-83-15" name="__codelineno-83-15"></a><span class="w">                </span><span class="nx">Required</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&quot;name&quot;</span><span class="p">},</span>
<a id="__codelineno-83-16" name="__codelineno-83-16"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-83-17" name="__codelineno-83-17"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-83-18" name="__codelineno-83-18"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-83-19" name="__codelineno-83-19"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-83-20" name="__codelineno-83-20"></a><span class="w">        </span><span class="nx">Type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;function&quot;</span><span class="p">,</span>
<a id="__codelineno-83-21" name="__codelineno-83-21"></a><span class="w">        </span><span class="nx">Function</span><span class="p">:</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Function</span><span class="p">{</span>
<a id="__codelineno-83-22" name="__codelineno-83-22"></a><span class="w">            </span><span class="nx">Name</span><span class="p">:</span><span class="w">        </span><span class="s">&quot;addNumbers&quot;</span><span class="p">,</span>
<a id="__codelineno-83-23" name="__codelineno-83-23"></a><span class="w">            </span><span class="nx">Description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Make an addition of the two given numbers&quot;</span><span class="p">,</span>
<a id="__codelineno-83-24" name="__codelineno-83-24"></a><span class="w">            </span><span class="nx">Parameters</span><span class="p">:</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Parameters</span><span class="p">{</span>
<a id="__codelineno-83-25" name="__codelineno-83-25"></a><span class="w">                </span><span class="nx">Type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;object&quot;</span><span class="p">,</span>
<a id="__codelineno-83-26" name="__codelineno-83-26"></a><span class="w">                </span><span class="nx">Properties</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">llm</span><span class="p">.</span><span class="nx">Property</span><span class="p">{</span>
<a id="__codelineno-83-27" name="__codelineno-83-27"></a><span class="w">                    </span><span class="s">&quot;a&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-28" name="__codelineno-83-28"></a><span class="w">                        </span><span class="nx">Type</span><span class="p">:</span><span class="w">        </span><span class="s">&quot;number&quot;</span><span class="p">,</span>
<a id="__codelineno-83-29" name="__codelineno-83-29"></a><span class="w">                        </span><span class="nx">Description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;first operand&quot;</span><span class="p">,</span>
<a id="__codelineno-83-30" name="__codelineno-83-30"></a><span class="w">                    </span><span class="p">},</span>
<a id="__codelineno-83-31" name="__codelineno-83-31"></a><span class="w">                    </span><span class="s">&quot;b&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-32" name="__codelineno-83-32"></a><span class="w">                        </span><span class="nx">Type</span><span class="p">:</span><span class="w">        </span><span class="s">&quot;number&quot;</span><span class="p">,</span>
<a id="__codelineno-83-33" name="__codelineno-83-33"></a><span class="w">                        </span><span class="nx">Description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;second operand&quot;</span><span class="p">,</span>
<a id="__codelineno-83-34" name="__codelineno-83-34"></a><span class="w">                    </span><span class="p">},</span>
<a id="__codelineno-83-35" name="__codelineno-83-35"></a><span class="w">                </span><span class="p">},</span>
<a id="__codelineno-83-36" name="__codelineno-83-36"></a><span class="w">                </span><span class="nx">Required</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">},</span>
<a id="__codelineno-83-37" name="__codelineno-83-37"></a><span class="w">            </span><span class="p">},</span>
<a id="__codelineno-83-38" name="__codelineno-83-38"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-83-39" name="__codelineno-83-39"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-83-40" name="__codelineno-83-40"></a><span class="p">}</span>
<a id="__codelineno-83-41" name="__codelineno-83-41"></a>
<a id="__codelineno-83-42" name="__codelineno-83-42"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-83-43" name="__codelineno-83-43"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-83-44" name="__codelineno-83-44"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-83-45" name="__codelineno-83-45"></a><span class="w">    </span><span class="nx">Tools</span><span class="p">(</span><span class="nx">toolsList</span><span class="p">).</span>
<a id="__codelineno-83-46" name="__codelineno-83-46"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">`say &quot;hello&quot; to Bob, say &quot;hello&quot; to Sam`</span><span class="p">).</span>
<a id="__codelineno-83-47" name="__codelineno-83-47"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">`add 2 and 40`</span><span class="p">).</span>
<a id="__codelineno-83-48" name="__codelineno-83-48"></a><span class="w">    </span><span class="nx">FunctionCalling</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-49" name="__codelineno-83-49"></a><span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">results</span><span class="w"> </span><span class="kt">string</span>
<a id="__codelineno-83-50" name="__codelineno-83-50"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">toolCall</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">self</span><span class="p">.</span><span class="nx">ToolCalls</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-51" name="__codelineno-83-51"></a><span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="nx">toolCall</span><span class="p">.</span><span class="nx">Function</span><span class="p">.</span><span class="nx">Name</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-52" name="__codelineno-83-52"></a><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">:</span>
<a id="__codelineno-83-53" name="__codelineno-83-53"></a><span class="w">                </span><span class="nx">results</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Sprintf</span><span class="p">(</span><span class="s">&quot;Hello %s\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">toolCall</span><span class="p">.</span><span class="nx">Function</span><span class="p">.</span><span class="nx">Arguments</span><span class="p">[</span><span class="s">&quot;name&quot;</span><span class="p">])</span>
<a id="__codelineno-83-54" name="__codelineno-83-54"></a><span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="s">&quot;addNumbers&quot;</span><span class="p">:</span>
<a id="__codelineno-83-55" name="__codelineno-83-55"></a><span class="w">                </span><span class="nx">a</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">toolCall</span><span class="p">.</span><span class="nx">Function</span><span class="p">.</span><span class="nx">Arguments</span><span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">]</span>
<a id="__codelineno-83-56" name="__codelineno-83-56"></a><span class="w">                </span><span class="nx">b</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">toolCall</span><span class="p">.</span><span class="nx">Function</span><span class="p">.</span><span class="nx">Arguments</span><span class="p">[</span><span class="s">&quot;b&quot;</span><span class="p">]</span>
<a id="__codelineno-83-57" name="__codelineno-83-57"></a><span class="w">                </span><span class="nx">results</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Sprintf</span><span class="p">(</span><span class="s">&quot;Addition of %v and %v is %v\n&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-83-58" name="__codelineno-83-58"></a><span class="w">                    </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">,</span><span class="w"> </span><span class="nx">a</span><span class="p">.(</span><span class="kt">float64</span><span class="p">)</span><span class="o">+</span><span class="nx">b</span><span class="p">.(</span><span class="kt">float64</span><span class="p">))</span>
<a id="__codelineno-83-59" name="__codelineno-83-59"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-83-60" name="__codelineno-83-60"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-83-61" name="__codelineno-83-61"></a><span class="w">        </span><span class="nx">self</span><span class="p">.</span><span class="nx">System</span><span class="p">(</span><span class="s">&quot;RESULTS:\n&quot;</span><span class="o">+</span><span class="nx">results</span><span class="p">)</span>
<a id="__codelineno-83-62" name="__codelineno-83-62"></a><span class="w">    </span><span class="p">}).</span>
<a id="__codelineno-83-63" name="__codelineno-83-63"></a><span class="w">    </span><span class="nx">User</span><span class="p">(</span><span class="s">&quot;Use the results and format the output with fancy emojis&quot;</span><span class="p">).</span>
<a id="__codelineno-83-64" name="__codelineno-83-64"></a><span class="w">    </span><span class="nx">ChatStream</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-65" name="__codelineno-83-65"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Print</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-83-66" name="__codelineno-83-66"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-83-67" name="__codelineno-83-67"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div>
<h3 id="meta-prompts-example">Meta Prompts Example</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-84-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-84-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-84-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-84-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-84-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-84-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-84-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-84-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-84-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-84-10">10</a></span>
<span class="normal"><a href="#__codelineno-84-11">11</a></span>
<span class="normal"><a href="#__codelineno-84-12">12</a></span>
<span class="normal"><a href="#__codelineno-84-13">13</a></span>
<span class="normal"><a href="#__codelineno-84-14">14</a></span>
<span class="normal"><a href="#__codelineno-84-15">15</a></span>
<span class="normal"><a href="#__codelineno-84-16">16</a></span>
<span class="normal"><a href="#__codelineno-84-17">17</a></span>
<span class="normal"><a href="#__codelineno-84-18">18</a></span>
<span class="normal"><a href="#__codelineno-84-19">19</a></span>
<span class="normal"><a href="#__codelineno-84-20">20</a></span>
<span class="normal"><a href="#__codelineno-84-21">21</a></span>
<span class="normal"><a href="#__codelineno-84-22">22</a></span>
<span class="normal"><a href="#__codelineno-84-23">23</a></span>
<span class="normal"><a href="#__codelineno-84-24">24</a></span>
<span class="normal"><a href="#__codelineno-84-25">25</a></span>
<span class="normal"><a href="#__codelineno-84-26">26</a></span>
<span class="normal"><a href="#__codelineno-84-27">27</a></span>
<span class="normal"><a href="#__codelineno-84-28">28</a></span>
<span class="normal"><a href="#__codelineno-84-29">29</a></span>
<span class="normal"><a href="#__codelineno-84-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-84-2" name="__codelineno-84-2"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-84-3" name="__codelineno-84-3"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-84-4" name="__codelineno-84-4"></a><span class="w">    </span><span class="nx">ForKids</span><span class="p">(</span><span class="s">&quot;Explain Docker&quot;</span><span class="p">).</span>
<a id="__codelineno-84-5" name="__codelineno-84-5"></a><span class="w">    </span><span class="nx">ChatStream</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-6" name="__codelineno-84-6"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Print</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-84-7" name="__codelineno-84-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-84-8" name="__codelineno-84-8"></a><span class="w">    </span><span class="p">})</span>
<a id="__codelineno-84-9" name="__codelineno-84-9"></a>
<a id="__codelineno-84-10" name="__codelineno-84-10"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-84-11" name="__codelineno-84-11"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-84-12" name="__codelineno-84-12"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-84-13" name="__codelineno-84-13"></a><span class="w">    </span><span class="nx">Brief</span><span class="p">(</span><span class="s">&quot;Explain Docker&quot;</span><span class="p">).</span>
<a id="__codelineno-84-14" name="__codelineno-84-14"></a><span class="w">    </span><span class="nx">ChatStream</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-15" name="__codelineno-84-15"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Print</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-84-16" name="__codelineno-84-16"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-84-17" name="__codelineno-84-17"></a><span class="w">    </span><span class="p">})</span>
<a id="__codelineno-84-18" name="__codelineno-84-18"></a>
<a id="__codelineno-84-19" name="__codelineno-84-19"></a><span class="nx">squawk</span><span class="p">.</span><span class="nx">New</span><span class="p">().</span>
<a id="__codelineno-84-20" name="__codelineno-84-20"></a><span class="w">    </span><span class="nx">Model</span><span class="p">(</span><span class="s">&quot;mistral:latest&quot;</span><span class="p">).</span>
<a id="__codelineno-84-21" name="__codelineno-84-21"></a><span class="w">    </span><span class="nx">Provider</span><span class="p">(</span><span class="nx">provider</span><span class="p">.</span><span class="nx">Ollama</span><span class="p">).</span>
<a id="__codelineno-84-22" name="__codelineno-84-22"></a><span class="w">    </span><span class="nx">InLaymansTerms</span><span class="p">(</span><span class="s">&quot;Explain Docker&quot;</span><span class="p">).</span>
<a id="__codelineno-84-23" name="__codelineno-84-23"></a><span class="w">    </span><span class="nx">Chat</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-24" name="__codelineno-84-24"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Print</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-84-25" name="__codelineno-84-25"></a><span class="w">    </span><span class="p">}).</span>
<a id="__codelineno-84-26" name="__codelineno-84-26"></a><span class="w">    </span><span class="nx">SummarizeLastAnswer</span><span class="p">().</span>
<a id="__codelineno-84-27" name="__codelineno-84-27"></a><span class="w">    </span><span class="nx">ChatStream</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">answer</span><span class="w"> </span><span class="nx">llm</span><span class="p">.</span><span class="nx">Answer</span><span class="p">,</span><span class="w"> </span><span class="nx">self</span><span class="w"> </span><span class="o">*</span><span class="nx">squawk</span><span class="p">.</span><span class="nx">Squawk</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-28" name="__codelineno-84-28"></a><span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Print</span><span class="p">(</span><span class="nx">answer</span><span class="p">.</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Content</span><span class="p">)</span>
<a id="__codelineno-84-29" name="__codelineno-84-29"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span>
<a id="__codelineno-84-30" name="__codelineno-84-30"></a><span class="w">    </span><span class="p">})</span>
</code></pre></div></td></tr></table></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 - 2025 Philippe Charri√®re
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>